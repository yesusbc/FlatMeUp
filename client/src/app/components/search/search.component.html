<div class="col-lg-8 col-lg-offset-2">
  	<div class="google-places-container"> 
    	<h2>{{title}}</h2> 
    	<div>
	  		<input ngx-google-places-autocomplete [options]= 
	   		'options'  (onAddressChange)="AddressChange($event)" class="form-control"/> 
	  		{{ formattedaddress }}
	  	</div>
	  	<div class="btn-group btn-group-lg">
  			<button (click)="getBuildingsByAddress(1)">Search</button>
  		</div>
  	</div>

  	<div class="buildings-search">
		<div *ngFor="let building of buildings" class="item-building">
			<div class="panel panel-default">
				<div class="panel-body" (click)="explicitSearch(building._id)" style="cursor: pointer;">
					<div class="building-image">
						<!-- Image fetching could be more elegant -->
						<div align="center">
							<img src="{{url+'get-image/'+building.file[0]}}" *ngIf="building.file[0]" width="300" height="150"/>
							<img src="assets/building.png" class="building-default" *ngIf="!building.file[0]" width="350" height="200"/>
						</div>
					</div>
					<div class="building-text pull-left">
						<h4>{{building.address.street + ", " + 
							building.address.buildingNumber}}
							<span *ngIf="building.address.apartment">, {{building.address.apartment}}</span>
							. 
							{{building.address.state + ", " + 
							building.address.country}}
						</h4>
						<p>
						Global Rate: {{building.globalRate}}
						</p>
						<p>
						Number of reviews: {{building.reviewsCounter}}
						</p>
						<span class="date" class="text-muted">
							{{ (building.created_at | amFromUnix) | amLocale:'en' | amTimeAgo}}
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div>
		<ul class="pager pull-left" *ngIf="commingFromHome">
			<li *ngIf="page > 1"><a [routerLink]="['/home', prev_page]">
			Previous</a></li>
		</ul>
		<ul class="pager pull-right" *ngIf="commingFromHome">
			<li *ngIf="pages!=page && pages!=0"><a [routerLink]="['/home', next_page]">
			Next</a></li>
		</ul>

		<ul class="pager pull-left" *ngIf="!commingFromHome">
			<!-- This must pass buildings, so then search can traverse through it with the page -->
			<li *ngIf="page > 1">
       			<button type="button" (click)="getBuildingsByAddress(prev_page)" >Previous</button>
   			</li>
   		</ul>
   		<ul class="pager pull-right" *ngIf="!commingFromHome">
   			<li *ngIf="pages != page">
       			<button type="button" (click)="getBuildingsByAddress(next_page)" >Next</button>
   			</li>
		</ul>
	</div>

</div>

